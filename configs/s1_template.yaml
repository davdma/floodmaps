seed: 831002
save: false
save_path:

data:
    size: 68 # pixel width of dataset patches
    window: 64 # pixel width of model input/output (smaller due to shift-invariant loss)
    method: "strided" # ["random", "strided"]
    samples: # number of patches per tile (for "random" method)
    stride: 68 # stride for sliding window (for "strided" method)
    channels: "11011111" # (VV, VH, DEM, SlopeY, SlopeX, Water, Roads, Flowlines)
    random_flip: true
    mmap: false # memory-mapped file loading for large datasets
    suffix: "" # optional suffix for preprocessing variant datasets

model:
    classifier: "unet++" # ['unet', 'unet++']
    weights: # path to pretrained weights (for inference/finetuning)
    unet:
        dropout: 0.2
    unetpp:
        dropout: 0.2
        deep_supervision: false

train:
    epochs: 400
    batch_size: 1024
    loss: BCELoss # ['BCELoss', 'BCEDiceLoss', 'TverskyLoss', 'FocalTverskyLoss']
    use_pos_weight: false
    pos_weight: # null -> auto-compute; set float to override
    pos_weight_clip: 30.0
    shift_invariant: true # align labels to predictions for shift-robust training
    tversky:
      alpha: 0.3
    focal_tversky:
      gamma: 1.33
    clip: 1.0
    lr: 0.001
    optimizer: Adam # ['Adam', 'SGD', 'AdamW']
    weight_decay:
    LR_scheduler: Constant # ['Constant', 'ReduceLROnPlateau', 'CosAnnealingLR']
    LR_patience: 10
    LR_T_max:
    early_stopping: true
    patience: 30
    num_workers: 4
    keep_contiguous_in_mem: true # keep mmap'd data contiguous for faster access
    checkpoint:
        load_chkpt: false
        load_chkpt_path:
        save_chkpt: false
        save_chkpt_path:
        save_chkpt_interval: 20

eval:
    mode: val # ['val', 'test']

wandb:
    project: debug
    group:
    num_sample_predictions: 40
    percent_wet_patches: 0.5

logging:
    grad_norm_freq: 10

